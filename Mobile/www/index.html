<!DOCTYPE html>
<html>
    <head>
        <title>Evernym</title>
        
        <base href="" >
        <xmeta name="viewport" content="width=device-width, initial-scale=1">
            
            <meta name="viewport" content="user-scalable=no,width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1" >
                
                <!-- required libraries -->
                <link href='resources/fonts/open_sans_woff.css' rel='stylesheet' type='text/css'>
                <link rel="stylesheet" href="lib/jquery.mobile-1.3.1.css" />

                
                
                <script type="text/javascript" src="api_codes.js"></script>
                
                <script type="text/javascript" src="lib/jquery-1.8.2.min.js"></script>
                <script type="text/javascript" src="lib/jquery.mobile-1.3.1.js"></script>
                <script type="text/javascript" src="lib/jquery.jsonp-2.1.4.min.js"></script>
                <script type="text/javascript" src="lib/jqm.page.params.js"></script>
                <script type="text/javascript" src="lib/knockout-2.2.0rc.debug.js"></script>
                <script type="text/javascript" src="lib/iscroll.js"></script>
                <script type="text/javascript" src="lib/jquery.mobile.iscrollview.js"></script>
                <script type="text/javascript" src="scripts/evernym_settings.js"></script>

                <script type="text/javascript" charset="utf-8" src="PushNotification.js"></script>
                    
                <script type="text/javascript">
                    $.mobile.autoInitializePage = false;
                </script>
                
                <!-- services -->
                
                <script type="text/javascript" src="services/EvernymService.js"></script>
                <script type="text/javascript" src="services/EvernymLoginService.js"></script>
                <script type="text/javascript" src="services/EvernymChannelService.js"></script>
                <script type="text/javascript" src="services/EvernymMessageService.js"></script>
                <script type="text/javascript" src="services/EvernymCommethodService.js"></script>
                <script type="text/javascript" src="services/EvernymSystemService.js"></script>
                    
                
                <!-- view models -->
                
                <script type="text/javascript" src="viewModel/LoginViewModel.js"></script>
                <script type="text/javascript" src="viewModel/ChannelListViewModel.js"></script>
                <script type="text/javascript" src="viewModel/ChannelSettingsViewModel.js"></script>
                <script type="text/javascript" src="viewModel/ChannelsFollowingListViewModel.js"></script>
                <script type="text/javascript" src="viewModel/ChannelViewModel.js"></script>
                <script type="text/javascript" src="viewModel/ChannelMenuViewModel.js"></script>
                <script type="text/javascript" src="viewModel/ChannelBroadcastsViewModel.js"></script>
                <script type="text/javascript" src="viewModel/ChannelNewViewModel.js"></script>
                <script type="text/javascript" src="viewModel/SignupViewModel.js"></script>
                <script type="text/javascript" src="viewModel/SendMessageViewModel.js"></script>
                <script type="text/javascript" src="viewModel/FollowersListViewModel.js"></script>
                <script type="text/javascript" src="viewModel/InviteFollowersViewModel.js"></script>
                <script type="text/javascript" src="viewModel/FollowerViewModel.js"></script>
                <script type="text/javascript" src="viewModel/UserSettingsViewModel.js"></script>
                <script type="text/javascript" src="viewModel/DevSettingsViewModel.js"></script>
                <script type="text/javascript" src="viewModel/CommethodVerificationViewModel.js"></script>
                <script type="text/javascript" src="viewModel/NotificationsViewModel.js"></script>
                <script type="text/javascript" src="viewModel/ForgotPasswordViewModel.js"></script>
                <script type="text/javascript" src="viewModel/ResetPasswordViewModel.js"></script>
                <script type="text/javascript" src="viewModel/MessageViewModel.js"></script>
                <script type="text/javascript" src="viewModel/PanelHelpViewModel.js"></script>
                <script type="text/javascript" src="viewModel/UnsubscribeModel.js"></script>
                <script type="text/javascript" src="viewModel/SelectIconViewModel.js"></script>
                
                
                <link rel="stylesheet" href="evernym.css" />
                
                <!-- the code that puts it all together -->
                <script type="text/javascript" src="app.js" ></script>
                
                
                <script type="text/javascript">
                   /*
                    $(document).live("pagechange", function () {
                                     var page = $.mobile.activePage.attr("id");
                                     });
                    */
                    
                    
                    
                    function goToView(view){
                        $.mobile.changePage( "#" + view, {allowSamePageTransition: true});
                    }
                    
                    function goToChannel(select){
                        
                        startBroadcast(select.value);
                        
                    }
                    
                    
                    
                    function populatePanel(channels){
                        
                        
                        var innards = '';
                        
                        var outards = '';
                        
                        for (var n = 0; n < channels.length; n++){
                            
                            var channel = channels[n];
                            var name = channel.name;
                            if ( n < 2){
                                innards += '<li class="white-gradient white_menu "><a href="#" onclick="startBroadcast(\''+ channel.normName +
                                '\');" ><img class="ui-li-icon" src="resources/V-04-a.png" />' + name + '</a></li>';
                            }
                            else{
                                outards += '<li class="white-gradient white_menu " ><a href="#"  onclick="startBroadcast(\''+ channel.normName +
                                '\');" ><img class="ui-li-icon" src="resources/V-04-a.png" />' + name + '</a></li>';
                            }
                            
                        }
                        
                        if (outards.length > 0){
                            outards = '<h2  style="font-style:italic;"> -- Select a Channel -- </h2><ul data-icon="" data-role="listview"  data-corners="false"  >' + outards + '</ul>'
                        }
                        
                        $("#broadcast_channels").html(innards);
                        
                        $("#extra-broadcast-channels").html(outards);
                        
                        
                        
                        //$("#broadcast_extras").html('<select><option>more channels</option>' + outards + '</select>');
                        
                        
                        
                    }
                    
                    </script>
                
                </head>
    <body style="margin:0 !important;">

 <!--
        <script type="text/javascript" src="cordova.js"></script>
       
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript">
            app.initialize();
        </script>

-->
        
        <div id="globalfooter" style="display:none;">
            <div data-role="footer" id="thefooter" >
                
                
                <a href="#" data-role="none" onclick="goToView('userSettingsView');" class="a-button" id="footer-gear">test</a>
                <a href="#" data-role="none" onclick="inviteFollowers();" class="a-button" id="footer-followers"></a>
                <a href="#" data-role="none" onclick="initiateBroadcast();" class="a-button" id="footer-megaphone"></a>
                <span id="viewid">view id</span>
                
                
            </div>
        </div>
        
        <div id="globalpanel" style="display:none;">
        
            
            <div data-role="panel" id="mypanel" data-position="left" data-display="reveal" >
            
                
            <div id="innerpanel" class="panel-inner" style="" >
                
                
                <div data-role="none" class="green-gradient" style="">
                   <!--  <div style="padding-left:15px;padding-top:5px;" id="panel_name"> name </div> -->
                </div>
            
                <!--
                <div class="menu_head">
                    <div style="padding-left:15px;padding-top:5px;">SEND BROADCAST</div>
                </div>
                
                <div data-role="collapsible-set"  data-corners="false">
                    <ul data-icon="" id="broadcast_channels" data-corners="false" data-role="listview" xdata-inset="true" style="min-width:210px;" xdata-theme="evernym">
                    </ul>
                    <div id="extra-broadcast-channels"  data-role="collapsible" data-collapsed-icon="evernym-closed" data-expanded-icon="evernym-open"  data-corners="false">
					</div>
                </div>
                 -->
                
            <div>
                
                <!--
                <div class="menu_head">
                    <div style="padding-left:15px;padding-top:5px;">MAIN MENU
                    </div>
                </div>
                 -->
                
                
                <ul data-role="listview" data-icon="" data-corners="false" xdata-inset="true" style="min-width:210px;" xdata-theme="d">
                    
                    
                    <li class="white-gradient white_menu "><img class="ui-li-icon" src="resources/V-04-d.png" />
                        <a href="" onclick="goToView('channelListView');">Channels I Own</a>
                    </li>
                    <li class="white-gradient white_menu "><img class="ui-li-icon" src="resources/V-04-e.png" />
                        <a href="#" onclick="goToView('channelsFollowingListView');">Channels I Follow</a>
                    </li>
                    
                    <li class="white-gradient white_menu "><img class="ui-li-icon" src="resources/V-04-f.png" />
                        <a href="#" onclick="goToView('channelNewView');">Create a New Channel</a>
                    </li>
                    <li class="white-gradient white_menu "><img class="ui-li-icon" src="resources/V-04-g.png" />
                        <a href="#" onclick="goToView('followAnotherChannelView');">Find Channels</a>
                    </li>
                    
                    <li class="white-gradient white_menu "><img class="ui-li-icon" src="resources/V-04-h.png" />
                        <a href="#" onclick="goToView('allMessagesHistoryView');">All Messages</a>
                    </li>
                    <li class="white-gradient white_menu "><img class="ui-li-icon" src="resources/V-04-i.png" />
                        <a href="#" onclick="goToView('userSettingsView');">User Settings</a>
                    </li>
                    
                    
                </ul>
                
            </div>
             
             
            
            <h3 style="font-size:8pt;color:#BBB;">BETA V-04 Tray</h3>
            </div>
            </div>
        
        </div>
        
        
        <div id="globalpaneldots" style="display:none;">
            
            
            <div data-role="panel" id="mypaneldots" data-position="right" data-display="reveal" >
                
                
                <div id="innerpanel" class="panel-inner" style="" >
                    
                    
                    <div data-role="none" class="green-gradient-2" style="">
                        
                    </div>
                    
                                        
                    <div>
                        
                        
                        
                        <ul data-role="listview" data-icon="" data-corners="false" xdata-inset="true" style="min-width:210px;" xdata-theme="d">
                            
                            <li class="white-gradient-2 white_menu "><img class="ui-li-icon" src="resources/V-04-d.png" /><a href="#" onclick="showMessage('help under construction');">Help</a></li>
                            <li class="white-gradient-2 white_menu "><img class="ui-li-icon" src="resources/V-04-e.png" /><a href="#" onclick="showMessage('about under construction');">About</a></li>
                            <li class="white-gradient-2 white_menu "><img class="ui-li-icon" src="resources/V-04-f.png" /><a href="#" onclick="showFeedback();" >Feedback</a></li>
                            <li class="white-gradient-2 white_menu "><img class="ui-li-icon" src="resources/V-04-i.png" />
                                <a href="#" onclick="goToView('userSettingsView');">User Settings</a>
                            </li>
                            
                            <li class="white-gradient-2 white_menu "><img class="ui-li-icon" src="resources/V-04-i.png" /><a href="index.html#loginView?a=logout">Logout</a></li>
                            
                            
                        </ul>
                        
                    </div>
                    
                    
                    
                    <h3 style="font-size:8pt;color:#BBB;">BETA V-06 ThreeDots</h3>
                </div>
            </div>
            
        </div>
        
        
        
        <div id="allpages" >
            
            <!--  ALL MESSAGE HISTORY VIEW -->
            
            <div id="allMessagesHistoryView" class="channel-list" data-role="page" Xdata-theme="b" >
                <div id="gpanel"></div>
                <div id="gpaneldots"></div>
                <div data-role="header" class="header" Xdata-theme="b">
                    <h1>AllMessagesHistory</h1>
                    <a href="#mypanel" data-rel="popup" data-role="none" data-inline="true" class="ui-btn-left menu-button">&nbsp;</a>
                    <a href="#mypaneldots" data-rel="popup" data-role="none" data-inline="true" class="ui-btn-right menu-button-dots">&nbsp;</a>
                    

                </div>
                <div data-role="content" Xdata-theme="b" >
                    <h2 style="color:white;">AllMessagesHistory</h2>
                </div>
                <div class="footer" data-role="footer" >BETA V-31 AllMessagesHistory</div>
            </div>
            
            
            <!--  FOLLOW ANOTHER CHANNEL VIEW -->
            
            <div id="followAnotherChannelView" class="channel-list" data-role="page" Xdata-theme="b" >
                <div id="gpanel"></div>
                <div id="gpaneldots"></div>
                
                <div data-role="header" class="header" Xdata-theme="b">
                    <h1>FollowAnotherChannel</h1>
                    
                    <a href="#mypanel" data-rel="popup" data-role="none" data-inline="true" class="ui-btn-left menu-button">&nbsp;</a>
                    <a href="#mypaneldots" data-rel="popup" data-role="none" data-inline="true" class="ui-btn-right menu-button-dots">&nbsp;</a>
                    
 
                </div>
                <div data-role="content" Xdata-theme="b" >
                    <h2 style="color:white;">Follow Another Channel</h2>
                </div>
                <div class="footer" data-role="footer" >BETA V-17 FollowAnotherChannel</div>
            </div>

            
            
            
        </div>
        
        
    </body>
</html>
